<html>
<head>
    <title>Pub/Sub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/themes/prism.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col s12">
            <div class="center-align">
                <img src="data:image/png;base64,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"
                     alt="Pub/Sub Logo"/>
            </div>
            <h4>Topics</h4>
            <div id="messages-list">
                <ul v-for="(messages, topic) in topics" class="collection with-header">
                    <li class="collection-header"><h5>{{ "{{ topic }}" }}</h5></li>
                    <li v-for="message in messages" class="collection-item">
                        <span style="font-size: 10px; color: #333333;">{{ "{{ message.PublishTime }}" }} (ID {{ "{{ message.ID }}" }})</span>
                        <pre>
                        <code class="language-json">
                        {{ "{{ atob(message.Data) }}" }}
                        </code>
                    </pre>
                    </li>
                </ul>
            </div>
        </div>
    </div>
    <div class="row">
        <form method="post" class="col s12" id="publish" action="/publish">
            <h4>Publish message</h4>
            <div class="row">
                <div class="input-field col s6">
                    <select name="topic" id="topic" required="required">
                        <option value="" disabled selected>Choose a topic</option>
                    {{ range $_, $topic := .Config.Topics }}
                        <option value="{{ $topic.Name }}">{{ $topic.Name }}</option>
                    {{ end }}
                    </select>
                </div>
                <div class="input-field col s6">
                    <select id="payload-list">
                        <option value="" disabled selected>Choose an existing payload</option>
                    </select>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <textarea id="payload" name="payload" class="materialize-textarea" cols="4"
                              placeholder="Enter JSON payload here" required="required"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12 center-align">
                    <button type="submit" class="btn waves-effect waves-light">Publish <i class="material-icons right">send</i>
                    </button>
                </div>
            </div>
        </form>
    </div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/components/prism-core.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/autoloader/prism-autoloader.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.17.1/plugins/normalize-whitespace/prism-normalize-whitespace.min.js"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vue@2.6.0"></script>
<script>
    Prism.plugins.NormalizeWhitespace.setDefaults({
        'remove-trailing': true,
        'remove-indent': true,
        'left-trim': true,
        'right-trim': true,
    });

    var topics = {};

    {{ range $_, $topic := .Config.Topics }}
    topics[{{$topic.Name}}] = [];
    {{ range $_, $payload := $topic.Payloads }}
    topics[{{$topic.Name}}].push({"name": {{$payload.Name}}, "payload": {{$payload.Payload}}});
    {{ end }}
    {{ end }}

    var topic = '';
    jQuery(function ($) {
        M.FormSelect.init(document.querySelectorAll('select'), {});

        $('#topic').on('change keyup', function () {
            topic = $(this).val();
            if (!topic in topics) {
                return;
            }

            $('#payload-list').find('option').not('[disabled]').remove();
            topics[topic].forEach(function (payload) {
                $('#payload-list').append($('<option>', {
                    value: payload.payload,
                    text: payload.name
                }));
            });

            M.FormSelect.init(document.querySelectorAll('select'), {});
        });

        $('#payload-list').on('change keyup', function () {
            $('#payload').val($(this).val());
        });

        $("#publish").submit(function (e) {
            e.preventDefault();

            try {
                JSON.parse($('#payload').val());
            } catch (e) {
                M.toast({html: 'Invalid JSON payload'});
                return;
            }

            var $form = $(this);
            var url = $form.attr('action');

            $.ajax({
                type: 'POST',
                url: url,
                data: $form.serialize(),
                success: function (data) {
                    M.toast({html: 'Message ' + data.id + ' published to topic ' + data.topic});
                },
                error: function (data) {
                    M.toast({html: 'Error: ' + data.responseText});
                }
            });
        });

        new Vue({
            el: '#messages-list',
            data() {
                return {
                    topics: []
                }
            },
            mounted() {
                var that = this;
                $.getJSON('/messages', function (data) {
                    that.topics = data;
                });
            }
        });
    });
</script>
</body>
</html>
